---
title: 'CSAPP_2' 
description: 'CSAPPå­¦ä¹ ç¬”è®°' 
publishDate: '2025-2-20 15:45:00'
tags:
  - CSAPP
heroImage: { src: './docker.jpg', alt: 'Dockerå®¹å™¨å›¾ç‰‡', color: '#2496ED' }
draft: false
language: 'Chinese'
comment: true
---

## lecture1

#### **Two's Complement**

ä½å®½ï¼šè®¾äºŒè¿›åˆ¶ä½æ•°ä¸º ğ‘›

æ— ç¬¦å·æ•°èŒƒå›´ï¼š
$$
0\leq U \leq 2^n-1
$$
è¡¥ç èŒƒå›´ï¼š
$$
-2^{n-1}â‰¤ğ‘‡â‰¤2^{n-1}-1
$$

#### **æ— ç¬¦å·æ•°ä¸è¡¥ç è½¬æ¢**

- æ— ç¬¦å·æ•°è½¬è¡¥ç 

$$
T =
\begin{cases}
U, & \text{if } U < 2^{n-1} \\
U - 2^n, & \text{if } U \geq 2^{n-1}
\end{cases}
$$

- è¡¥ç è½¬æ— ç¬¦å·æ•°
  $$
  U =
  \begin{cases}
  T, & \text{if } T \geq 0 \\
  T + 2^n, & \text{if } T < 0
  \end{cases}
  $$

####  æ‹“å±•ä¸€ä¸ªæ•°çš„ä½è¡¨ç¤º

1. è€ƒè™‘ -12345çš„è¡¥ç è¡¨ç¤ºï¼Œ16ä½

   ```
   åŸç ï¼š1011 0000 0011 1001  #æœ€é«˜ä½è¡¨ç¤ºè´Ÿæ•°
   åç ï¼š1100 1111 1100 0110
   è¡¥ç ï¼š1100 1111 1100 0111  # åç åŠ 1
   åå…­è¿›åˆ¶ï¼š0xCFC7
   ```

2. 53191çš„æ— ç¬¦å·è¡¨ç¤ºï¼ˆ16ä½æ— ç¬¦å·æ•´æ•°ï¼‰ï¼š

   ```
   äºŒè¿›åˆ¶ï¼š1100 1111 1100 0111  # ç›´æ¥è½¬æ¢åè¿›åˆ¶
   åå…­è¿›åˆ¶ï¼š0xCFC7
   ```

   

3. è€ƒè™‘ -12345çš„è¡¥ç è¡¨ç¤ºï¼Œ32ä½

   ```
   åŸç ï¼š11111111 11111111 10110000 00111001
   åç ï¼š10000000 00000000 01001111 11000110
   è¡¥ç ï¼š10000000 00000000 01001111 11000111  # åç åŠ 1
   åå…­è¿›åˆ¶ï¼š0xFFFFCFC7
   ```

4. 53191çš„æ— ç¬¦å·è¡¨ç¤ºï¼ˆ322ä½æ— ç¬¦å·æ•´æ•°ï¼‰ï¼š

   ```
   äºŒè¿›åˆ¶ï¼š00000000 00000000 11001111 11000111  # é«˜ä½è¡¥é›¶
   åå…­è¿›åˆ¶ï¼š0x0000CFC7
   ```

#### ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¡¥ç è¿™ä¸ªå¥‡æ€ªçš„ç©æ„

1. ç»Ÿä¸€åŠ å‡æ³•ï¼š
   1. **åŠ æ³•**ï¼šè‹¥ä¸¤æ•°ç¬¦å·ç›¸åŒï¼Œç›´æ¥ç›¸åŠ ï¼›è‹¥ç¬¦å·ä¸åŒï¼Œéœ€æ¯”è¾ƒç»å¯¹å€¼å¤§å°ï¼Œå†è¿›è¡Œå‡æ³•ã€‚
   2. **å‡æ³•**ï¼šéœ€è½¬æ¢ä¸ºåŠ æ³•ï¼Œä½†éœ€å¤„ç†å€Ÿä½å’Œç¬¦å·åˆ¤æ–­ã€‚
   3. **ç¡¬ä»¶å¤æ‚åº¦**ï¼šéœ€è¦é¢å¤–çš„ç”µè·¯å¤„ç†ç¬¦å·ä½å’Œè¿ç®—é€»è¾‘ã€‚

#### é€»è¾‘å’Œç®—æœ¯å³ç§»

1. é€»è¾‘å³ç§»ï¼šæ— ç¬¦å·æ•°å³ç§»ï¼Œé«˜ä½è¡¥0ï¼Œç”¨äºçº¯æ•°å€¼æ“ä½œã€‚
2. ç®—æœ¯å³ç§»ï¼šæœ‰ç¬¦å·æ•°å³ç§»ï¼Œé«˜ä½è¡¥ç¬¦å·ä½ï¼Œç”¨äºä¿æŒæ•°å­¦æ„ä¹‰çš„é™¤æ³•

#### é€»è¾‘å’Œç®—æœ¯å·¦ç§»


#### è¡¥ç çš„æœ¬è´¨ä¸æº¢å‡ºæœºåˆ¶

1. æº¢å‡ºè¡Œä¸ºï¼šå½“è®¡ç®—ç»“æœè¶…å‡ºè¡¥ç çš„è¡¨ç¤ºèŒƒå›´æ—¶ï¼Œé«˜ä½ä¼šè¢«æˆªæ–­ï¼Œä»…ä¿ç•™ä½ n ä½ï¼Œå¹¶ä»æŒ‰è¡¥ç è§„åˆ™è§£é‡Šã€‚
   `65535Ã—65535=4,294,836,225`å‘ç”Ÿäº†æº¢å‡ºï¼Œ32ä½æˆªæ–­çš„ç»“æœæ˜¯0xfffe0001ï¼Œè¡¥ç è§£é‡Šæ˜¯-131071ã€‚

#### æœ€å°è´Ÿæ•°çš„ç‰¹æ€§

1. æœ€å°è´Ÿæ•°æ˜¯`-2^{n-1}`,è¡¥ç æ˜¯`100....0`ï¼Œå–-xçš„æƒ…å†µæ˜¯`2^{n-1}`ï¼Œå·²ç»å‘ç”Ÿäº†æº¢å‡ºï¼Œä¾‹å¦‚`x=-128`ï¼Œå–åã€‚è¡¥ç æ˜¯`1000000`ï¼Œ`~x+1`çš„ç»“æœæ˜¯`10000000`,ä»»ç„¶æ˜¯-128ã€‚

#### IEEEè§„æ ¼æµ®ç‚¹æ•°è¡¨ç¤º

1. **ç¬¦å·ä½ï¼ˆSign Bitï¼‰**ï¼š1ä½ï¼ˆç¬¬31ä½ï¼‰
   - 0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•°ã€‚
2. **æŒ‡æ•°ï¼ˆExponentï¼‰**ï¼š8ä½ï¼ˆç¬¬23ä½åˆ°ç¬¬30ä½ï¼‰
   - ç”¨æ¥è¡¨ç¤ºæ•°å­—çš„è§„æ¨¡ï¼ˆå¤§å°èŒƒå›´ï¼‰ï¼Œé‡‡ç”¨â€œåç½®â€è¡¨ç¤ºæ³•ã€‚
3. **å°¾æ•°ï¼ˆMantissaï¼Œæˆ–ç§°Fractionï¼‰**ï¼š23ä½ï¼ˆç¬¬0ä½åˆ°ç¬¬22ä½ï¼‰
   - è¡¨ç¤ºæ•°å­—çš„æœ‰æ•ˆæ•°å­—éƒ¨åˆ†ï¼ˆå°æ•°éƒ¨åˆ†ï¼‰ã€‚

æ•´ä¸ªæµ®ç‚¹æ•°çš„å€¼å¯ä»¥ç”¨å…¬å¼è¡¨ç¤ºä¸ºï¼š

$$
å€¼ = (-1)^{\text{ç¬¦å·ä½}} \times 2^{\text{æŒ‡æ•° - åç½®}} \times (1 + \text{å°¾æ•°})
$$
![IEEE 754å•ç²¾åº¦ç»“æ„](https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Float_example.svg/1200px-Float_example.svg.png)

**IEEE 754è¿˜å®šä¹‰äº†ä¸€äº›ç‰¹æ®Šå€¼ï¼š**

1. **é›¶**ï¼šæŒ‡æ•°å’Œå°¾æ•°å…¨ä¸º0ï¼ˆç¬¦å·ä½å¯ä»¥æ˜¯0æˆ–1ï¼Œè¡¨ç¤º+0æˆ–-0ï¼‰ã€‚
   - ä¾‹å¦‚ï¼š0 00000000 00000000000000000000000 æ˜¯ +0ã€‚
2. **æ— ç©·å¤§ï¼ˆInfinityï¼‰**ï¼šæŒ‡æ•°å…¨1ï¼Œå°¾æ•°å…¨0ã€‚
   - ä¾‹å¦‚ï¼š0 11111111 00000000000000000000000 æ˜¯æ­£æ— ç©·ã€‚
3. **NaNï¼ˆNot a Numberï¼‰**ï¼šæŒ‡æ•°å…¨1ï¼Œå°¾æ•°éå…¨0ã€‚
   - ä¾‹å¦‚ï¼š0 11111111 10000000000000000000000 æ˜¯NaNï¼Œè¡¨ç¤ºæ— æ•ˆè¿ç®—ç»“æœï¼ˆå¦‚0/0ï¼‰ã€‚

#### éè§„æ ¼

**æŒ‡æ•°å…¨æ˜¯0ï¼Œ*
$$
å€¼ = (-1)^{\text{ç¬¦å·ä½}} \times 2^{\text{1 - åç½®}} \times ( \text{å°¾æ•°})
$$

#### **å•ç²¾åº¦æµ®ç‚¹æ•°è½¬æ¢ç¤ºä¾‹**

**é—®é¢˜**ï¼šå°†åè¿›åˆ¶æ•° **-13.625** è½¬æ¢ä¸ºIEEE 754å•ç²¾åº¦äºŒè¿›åˆ¶ã€‚

1. è´Ÿæ•° â†’ **ç¬¦å·ä½ = 1**
2. **æ•´æ•°éƒ¨åˆ†**ï¼š13 â†’ `1101`
3. **å°æ•°éƒ¨åˆ†**ï¼š0.625 â†’ `0.101`ï¼ˆå› ä¸º0.625 = 1Ã—2â»Â¹ + 0Ã—2â»Â² + 1Ã—2â»Â³ï¼‰
4. **åˆå¹¶ç»“æœ**ï¼š13.625 = `1101.101`
5. äºŒè¿›åˆ¶ç§‘å­¦è®¡æ•°æ³•ï¼š`1101.101` = `1.101101 Ã— 2Â³`
6. **å°¾æ•°**ï¼š`101101`ï¼ˆå»æ‰å‰å¯¼1ï¼Œè¡¥é›¶åˆ°23ä½ â†’ `10110100000000000000000`ï¼‰
7. **æŒ‡æ•°**ï¼šå®é™…æŒ‡æ•°3 â†’ å­˜å‚¨æŒ‡æ•° = 3 + 127 = 130 â†’ äºŒè¿›åˆ¶ `10000010`
8. **å®Œæ•´äºŒè¿›åˆ¶** `1 10000010 10110100000000000000000`

#### å‘å¶æ•°èˆå…¥ï¼ˆRound to nearest, ties to evenï¼‰

1. **è§„åˆ™**ï¼šä¼˜å…ˆèˆå…¥åˆ°æœ€æ¥è¿‘çš„å€¼ï¼›è‹¥å¤„äºä¸¤ä¸ªå€¼çš„æ­£ä¸­é—´ï¼Œåˆ™é€‰æ‹©æœ€ä½æœ‰æ•ˆä½ä¸ºå¶æ•°çš„ç»“æœã€‚
   - ç¤ºä¾‹
     - åè¿›åˆ¶ï¼š`2.5 â†’ 2`ï¼ˆå¶ï¼‰ï¼Œ`3.5 â†’ 4`ï¼ˆå¶ï¼‰ã€‚
     - äºŒè¿›åˆ¶ï¼š`10.10100 â†’ 10.10`ï¼ˆæœ«ä½0ä¸ºå¶ï¼‰

